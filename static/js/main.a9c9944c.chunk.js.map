{"version":3,"sources":["framework/plugins/layout/images/bg.svg","../../../packages/i18n/lib/index.js","../../../packages/hooks/lib/useGlobalState.js","../../../packages/hooks/lib/index.js","../../../packages/framework-hook/lib/config/config.prod.js","../../../packages/framework-hook/lib/components/exception/Forbidden.js","../../../packages/framework-hook/lib/components/exception/NotFound.js","images/logo.png","framework/components/exception/Forbidden.tsx","framework/components/exception/NotFound.tsx","config/index.ts","../../../packages/framework/lib/index.js","../../../packages/plugin-auth/lib/index.js","../../../packages/plugin-i18n/lib/index.js","../../../packages/plugin-lazy/lib/index.js","../../../packages/plugin-level/lib/index.js","../../../packages/plugin-path/lib/index.js","../../../packages/plugin-router/lib/index.js","../../../packages/framework-hook/lib/index.js","framework/config/index.ts","framework/plugins/layout/components/DocumentTitle.tsx","framework/plugins/layout/index.tsx","framework/plugins/store/index.tsx","framework/plugins/theme/index.tsx","framework/index.ts","serviceWorker.ts","index.tsx","framework/plugins/layout/components/Breadcrumbs.tsx","framework/plugins/layout/components/Header.tsx","framework/plugins/layout/components/Main.tsx","framework/plugins/layout/components/Menu.tsx","framework/plugins/layout/components/Sidebar.tsx","framework/plugins/layout/layouts/Admin.tsx","blocks/index.ts","config/config.prod.ts","store/index.ts","framework/components/interaction/Loading.tsx","framework/store/index.ts","framework/config/config.prod.tsx","framework/plugins/layout/components/Slogan.tsx","framework/plugins/layout/layouts/Blank.tsx","../../../packages/debug/lib/index.js","framework/plugins/layout/hooks/useLayout.tsx","../../../packages/theme/lib/index.js","../../../packages/core/lib/cache.js","../../../packages/core/lib/slots.js","../../../packages/core/lib/core.js","../../../packages/core/lib/index.js","framework/plugins/layout/components/Logo.tsx","framework/plugins/layout/components/LngSwitch.tsx","framework/plugins/layout/components/ThemeSwitch.tsx","framework/plugins/layout/components/Footer.tsx"],"names":["module","exports","setup","options","arguments","length","undefined","use","init","interpolation","escapeValue","partialBundledLanguages","useT","ns","defaultNS","toLowerCase","useSuspense","t","resources","addResourceBundle","language","useLng","_React$useState","useState","_React$useState2","v","setV","lng","changeLanguage","emitter","setMaxListeners","Number","MAX_VALUE","storageMap","Map","memStorage","__value","getItem","key","this","hasOwnProperty","setItem","value","useGlobalState","initialState","_storage","storage","getStorage","_useState","storageValue","JSON","parse","error","getState","stringify","_useState2","state","setState","on","off","emit","setGlobalState","set","has","get","version","plugins","auth","Forbidden","default","router","NotFound","props","createElement","variant","p","component","RouterLink","to","process","require","Framework","initialize","_render","mark","_callee","rendered","wrap","_context","prev","next","sent","abrupt","Array","isArray","stop","apply","_mount","_callee2","callback","mountingElement","_context2","container","document","querySelector","Error","concat","render","t0","_x","ctorOptions","ctr","constructor","Object","getPrototypeOf","unshift","flat","merge","_len","args","_key","obj","src","blocks","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","name","deps","plug","_ref","option","useAuth","tap","current","target","i","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectSpread","_ref2","_ref2$Forbidden","_ref2$Interlude","Interlude","authority","C","assign","normalizeAuth","handleLazy","_ref2$fallback","fallback","lazy","L","parent","level","path","charAt","replace","father","myself","normalizePath","_ref2$Router","Router","createRoutes","element","isInGreedy","map","block","_ref3","data","greedy","_ref4","match","hasChild","isExact","params","createRoute","_Framework","SimpleFramework","DocumentTitle","matched","useLayout","React","useEffect","title","reverse","join","layout","Layout","normalizeLayout","siteTitle","initialStates","states","entries","paletteType","overrides","setType","ThemeRoot","children","theme","useTheme","CssBaseline","FrameworkHook","LayoutPlugin","StorePlugin","ThemePlugin","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","mount","URL","href","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker","Breadcrumbs","Link","pathToRegExp","compile","useStyles","makeStyles","createStyles","appBar","width","open","custom","sidebar","marginLeft","menuButton","marginRight","spacing","Header","setOpen","AppBar","className","position","Toolbar","IconButton","color","aria-label","onClick","edge","main","drawerHeader","display","mixins","toolbar","Main","Box","flexDirection","flexGrow","listGroup","paddingLeft","listItemIcon","minWidth","listItemActive","fontWeight","Menu","all","MenuList","menuData","MenuNest","icon","Icon","Remove","empty","opened","Pointer","ExpandLess","ExpandMore","ListItem","ListItemIcon","ListItemText","clsx","disableTypography","Collapse","in","List","drawer","flexShrink","drawerPaper","Sidebar","Drawer","anchor","classes","paper","root","h1","AdminLayout","role","setRole","lastMatched","minHeight","Typography","fill","Logo","Divider","mb","Footer","pt","textAlign","store","GlobalCount","Loading","localStorage","i18n","fallbackLng","logoImage","palette","primary","green","contrastText","secondary","lime","typography","fontSize","h2","h3","h4","h5","h6","hasAuth","Slogan","background","bg","logo","height","BlankLayout","Container","maxWidth","py","px","makeArgs","debug","_console2","_len2","_key2","warn","_console3","_len3","_key3","_console4","_len4","_key4","fatal","arg0","_len6","_key6","Context","createContext","useContext","LayoutProvider","pathname","useLocation","useParsed","useMemo","getMenuData","childBlocks","rest","matchPath","Provider","type","useType","_useType","cache","snapshot","restore","clear","shouldEmit","listener","useCached","Slot","pre","post","hooks","_Slot","InitSlot","_this","prototype","call","_run","d","Promise","fn","_Slot2","ParseSlot","_this2","_run2","a","b","hookLength","_x2","_x3","_x4","_Slot3","RenderSlot","_this3","_run3","_callee3","_context3","_x5","_x6","KEY_SLOTS","KEY_PLUGINS","KEY_OPTIONS","KEY_PARSED","KEY_RENDERED","c","_args","runInit","runRender","runParse","t1","_runParse","parsedBlocks","_args2","parseBlocks","_runRender","renderedBlocks","_args3","renderBlocks","_parseBlocks","_callee5","fromInnerCall","_args5","_context5","_callee4","mc","_context4","interopDefaultExports","_mc","parseBlock","_x10","_parseBlock","_callee6","_cache$get2","_context6","$$parsed","run","_renderBlocks","_callee7","_cache$get3","_context7","_runInit","_callee8","slots","_context8","loadPlugins","_x7","_x8","_loadPlugins","_callee9","ordererPlugins","pluginNameMap","_context9","plugin","index","splice","dep","_x9","_interopDefaultExports","_callee10","m","_","_context10","alignItems","justifyContent","maxHeight","alt","LngSwitch","setLng","anchorEl","setAnchorEl","handleClose","selectedLng","Button","aria-controls","aria-haspopup","event","currentTarget","Language","id","onClose","keepMounted","MenuItem","ThemeSwitch","FormControlLabel","control","Switch","checked","onChange","inputProps","label","labelPlacement"],"mappings":"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","file":"static/js/main.a9c9944c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.66ad1ea5.svg\";","import _slicedToArray from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport deepmerge from \"deepmerge\";\nimport i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport Backend from \"i18next-fetch-backend\";\nimport React from \"react\";\nimport { initReactI18next, useTranslation } from \"react-i18next\";\nexport function setup() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  i18n // load translation using xhr -> see /public/locales\n  // learn more: https://github.com/perrin4869/i18next-fetch-backend\n  .use(Backend) // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector) // pass the i18n instance to react-i18next.\n  .use(initReactI18next) // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init(deepmerge({\n    interpolation: {\n      // react already safes from xss\n      escapeValue: false\n    },\n    // allows some resources to be set on initialization while others can be loaded using a backend connector\n    partialBundledLanguages: true\n  }, options));\n}\nexport function useT() {\n  var ns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : i18n.options.defaultNS[0];\n\n  var _useTranslation = useTranslation(ns.toLowerCase(), {\n    useSuspense: false\n  }),\n      t = _useTranslation.t;\n\n  return [t, function (resources) {\n    i18n.addResourceBundle(i18n.language, ns.toLowerCase(), resources, true, true);\n  }];\n}\nexport function useLng() {\n  var _React$useState = React.useState(i18n.language),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      v = _React$useState2[0],\n      setV = _React$useState2[1];\n\n  return [v, function (lng) {\n    i18n.changeLanguage(lng);\n    setV(i18n.language);\n  }];\n}","import _slicedToArray from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { warn } from \"@spax/debug\";\nimport EventEmitter from \"events\";\nimport { useEffect, useState } from \"react\";\nvar emitter = new EventEmitter();\nemitter.setMaxListeners(Number.MAX_VALUE);\nvar storageMap = new Map();\nvar memStorage = {\n  __value: {},\n  getItem: function getItem(key) {\n    return this.__value.hasOwnProperty(key) ? this.__value[key] : null;\n  },\n  setItem: function setItem(key, value) {\n    this.__value[key] = value;\n  }\n};\nexport function useGlobalState(key, initialState, _storage) {\n  var storage = getStorage(key, _storage);\n\n  var _useState = useState(function () {\n    // use storage first\n    var storageValue = storage.getItem(key);\n\n    if (storageValue !== null) {\n      try {\n        return JSON.parse(storageValue);\n      } catch (error) {\n        /* istanbul ignore next */\n        if (process.env.NODE_ENV === \"development\") {\n          warn(\"Invalid value of %s: %O\", key, storageValue);\n        }\n      }\n    } // use initialState\n\n\n    var value = getState(initialState); // update storage value\n\n    storage.setItem(key, JSON.stringify(value));\n    return value;\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var setStateSynchronously = function setStateSynchronously(value) {\n    // dispatch event\n    emitter.emit(key, value); // synchronize\n\n    storage.setItem(key, JSON.stringify(value));\n  };\n\n  useEffect(function () {\n    // add listener on mounted\n    emitter.on(key, setState);\n    return function () {\n      // remove listener on unmounted\n      emitter.off(key, setState);\n    };\n  }, [key]);\n  return [state, setStateSynchronously];\n}\nexport function setGlobalState(key, initialState, _storage) {\n  var storage = getStorage(key, _storage);\n\n  if (storage.getItem(key) === null) {\n    storage.setItem(key, JSON.stringify(getState(initialState)));\n  }\n}\n\nfunction getState(initialState) {\n  return typeof initialState === \"function\" ? initialState() : initialState;\n}\n\nfunction getStorage(key, storage) {\n  if (storage) {\n    storageMap.set(key, storage);\n    return storage;\n  }\n\n  if (storageMap.has(key)) {\n    return storageMap.get(key);\n  }\n\n  return memStorage;\n}","export * from \"./useGlobalState\";","export default {\n  version: \"0.0.1\",\n  plugins: {\n    auth: {\n      Forbidden: require(\"../components/exception/Forbidden\").default\n    },\n    router: {\n      NotFound: require(\"../components/exception/NotFound\").default\n    }\n  }\n};","import React from \"react\";\nexport default function Forbidden(props) {\n  return React.createElement(\"div\", null, React.createElement(\"h3\", null, \"403 from FrameworkHook\"), \"Sorry, you don't have access to this page.\");\n}","import React from \"react\";\nexport default function NotFound(props) {\n  return React.createElement(\"div\", null, React.createElement(\"h3\", null, \"404 from FrameworkHook\"), \"Sorry, the page you visited does not exist.\");\n}","module.exports = \"data:image/png;base64,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\"","import { Box, Card, CardActions, CardContent, Divider, Link, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nexport default function Forbidden(props: any) {\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant=\"h3\">403</Typography>\n        <Typography variant=\"body1\">Sorry, you don't have access to this page.</Typography>\n      </CardContent>\n      <Divider />\n      <CardActions>\n        <Box p={1}>\n          <Link component={RouterLink} to=\"/login\">Login</Link>\n        </Box>\n      </CardActions>\n    </Card>\n  );\n}\n","import { Box, Card, CardActions, CardContent, Divider, Link, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nexport default function NotFound(props: any) {\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant=\"h3\">404</Typography>\n        <Typography variant=\"body1\">Sorry, the page you visited does not exist.</Typography>\n      </CardContent>\n      <Divider />\n      <CardActions>\n        <Box p={1}>\n          <Link component={RouterLink} to=\"/\">Home</Link>\n        </Box>\n      </CardActions>\n    </Card>\n  );\n}\n","export default process.env.NODE_ENV === \"production\"\n  ? require(\"./config.prod\").default\n  : require(\"./config.dev\").default;\n","import _regeneratorRuntime from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { run } from \"@spax/core\";\nimport { debug, fatal, warn } from \"@spax/debug\";\nimport isPlainObject from \"lodash/isPlainObject\";\nimport mergeWith from \"lodash/mergeWith\";\nimport * as ReactDOM from \"react-dom\";\n\nvar Framework =\n/*#__PURE__*/\nfunction () {\n  function Framework() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Framework);\n\n    this.plugins = [];\n    this.options = {};\n    /* istanbul ignore next */\n\n    if (process.env.NODE_ENV !== \"test\") {\n      debug(\"\\n   _____ ____  ___   _  __\\n  / ___// __ \\\\/   | | |/ /\\n  \\\\__ \\\\/ /_/ / /| | |   /\\n ___/ / ____/ ___ |/   |\\n/____/_/   /_/  |_/_/|_|\");\n    }\n    /* istanbul ignore next */\n\n\n    if (process.env.NODE_ENV === \"development\") {\n      warn(\"Looks like we are in development mode!\");\n    }\n\n    this.initialize(options);\n  }\n\n  _createClass(Framework, [{\n    key: \"render\",\n    value: function () {\n      var _render = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var plugins, options, rendered;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                plugins = this.plugins, options = this.options; // 解析\n\n                _context.next = 3;\n                return run(plugins, options);\n\n              case 3:\n                rendered = _context.sent;\n                return _context.abrupt(\"return\", Array.isArray(rendered) ? JSON.stringify(rendered) : rendered);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function render() {\n        return _render.apply(this, arguments);\n      }\n\n      return render;\n    }()\n  }, {\n    key: \"mount\",\n    value: function () {\n      var _mount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(callback) {\n        var options, mountingElement, rendered;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                options = this.options; // 挂载点\n\n                mountingElement = typeof options.container === \"string\" ? document.querySelector(options.container) : options.container;\n\n                if (mountingElement) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw Error(\"\".concat(options.container, \" is not a valid HTMLElement\"));\n\n              case 5:\n                _context2.next = 7;\n                return this.render();\n\n              case 7:\n                rendered = _context2.sent;\n                // 挂载\n                ReactDOM.render(rendered, mountingElement, function () {\n                  /* istanbul ignore next */\n                  if (process.env.NODE_ENV === \"development\") {\n                    debug(\"Mounted to container: %O\", options.container);\n                  }\n\n                  if (callback) {\n                    callback();\n                  }\n                });\n                _context2.next = 14;\n                break;\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](0);\n                fatal(_context2.t0);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 11]]);\n      }));\n\n      function mount(_x) {\n        return _mount.apply(this, arguments);\n      }\n\n      return mount;\n    }()\n    /**\n     * 通过原型链实现递归合并\n     */\n\n  }, {\n    key: \"initialize\",\n    value: function initialize(ctorOptions) {\n      var ctr = this.constructor; // 静态属性 plugins\n\n      var plugins = [ctr.plugins]; // 静态属性 options\n\n      var options = [ctr.options]; // 自动继承父类的 静态属性 plugins\n      // 自动继承父类的 静态属性 options\n      // tslint:disable-next-line\n\n      while (ctr && (ctr = Object.getPrototypeOf(ctr))) {\n        if (ctr.plugins) {\n          // 父类的插件在前\n          plugins.unshift(ctr.plugins);\n        }\n\n        if (ctr.options) {\n          // 父类的选项在前\n          options.unshift(ctr.options);\n        }\n      } // 拍平\n\n\n      this.plugins = plugins.flat(); // 合并\n\n      this.options = merge.apply(void 0, options.concat([ctorOptions]));\n      /* istanbul ignore next */\n\n      if (process.env.NODE_ENV === \"development\") {\n        debug(\"Initialize Framework with options: %O, plugins: %O\", this.options, this.plugins);\n      }\n    }\n  }]);\n\n  return Framework;\n}(); // 插件\n\n\nexport { Framework as default };\nFramework.plugins = []; // 选项\n\nFramework.options = {\n  version: \"1.0.0\",\n  // 插件选项\n  plugins: {},\n  // 业务模块\n  blocks: [],\n  container: \"#root\"\n};\n/**\n * 对象：深拷贝\n * 数组：合并\n */\n\nexport function merge() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return mergeWith.apply(void 0, [{}].concat(args, [function (obj, src) {\n    // 合并数组\n    if (Array.isArray(src) && Array.isArray(obj)) {\n      return obj.concat(src);\n    } // 合并对象\n\n\n    if (isPlainObject(src) && isPlainObject(obj)) {\n      return merge(obj, src);\n    } // 其它，直接覆盖\n\n\n    return src;\n  }]));\n}","import _defineProperty from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { warn } from \"@spax/debug\";\nimport React from \"react\";\nexport default {\n  name: \"Auth\",\n  deps: [],\n  plug: function plug(_ref, option) {\n    var parse = _ref.parse;\n\n    if (!option.useAuth) {\n      if (process.env.NODE_ENV === \"development\") {\n        warn(\"Plugin config `auth.useAuth` is required!\");\n      }\n\n      return;\n    }\n\n    parse.tap(function (current) {\n      return _objectSpread({}, current, {}, normalizeAuth(current, option));\n    });\n  }\n};\n\nfunction normalizeAuth(current, _ref2) {\n  var useAuth = _ref2.useAuth,\n      _ref2$Forbidden = _ref2.Forbidden,\n      Forbidden = _ref2$Forbidden === void 0 ? function () {\n    return null;\n  } : _ref2$Forbidden,\n      _ref2$Interlude = _ref2.Interlude,\n      Interlude = _ref2$Interlude === void 0 ? function () {\n    return null;\n  } : _ref2$Interlude;\n  var authority = current.authority,\n      C = current.component;\n  return {\n    component: authority ? function PluginAuthWrapper(props) {\n      var auth = useAuth(authority);\n\n      if (auth === undefined) {\n        return React.createElement(Interlude, null);\n      }\n\n      return auth ? React.createElement(C, Object.assign({}, props)) : React.createElement(Forbidden, null);\n    } : C\n  };\n}","import { setup } from \"@spax/i18n\";\nexport default {\n  name: \"I18n\",\n  deps: [],\n  plug: function plug(_ref, option) {\n    var init = _ref.init;\n    init.tap(function () {\n      setup(option);\n    });\n  }\n};","import _defineProperty from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Suspense } from \"react\";\nexport default {\n  name: \"Lazy\",\n  deps: [],\n  plug: function plug(_ref, option) {\n    var parse = _ref.parse;\n    parse.tap(function (current) {\n      return _objectSpread({}, current, {}, handleLazy(current, option));\n    }, function (current) {\n      // 有可能其它插件会输出异步的 Component，所以这里再做一道处理\n      return _objectSpread({}, current, {}, handleLazy(current, option));\n    });\n  }\n};\n\nfunction handleLazy(current, _ref2) {\n  var _ref2$fallback = _ref2.fallback,\n      fallback = _ref2$fallback === void 0 ? React.createElement(\"div\", null, \"...\") : _ref2$fallback;\n  var lazy = current.lazy;\n\n  if (lazy) {\n    return {\n      lazy: null,\n      component: function component(props) {\n        var L = React.lazy(lazy);\n        return React.createElement(Suspense, {\n          fallback: fallback\n        }, React.createElement(L, Object.assign({}, props)));\n      }\n    };\n  }\n\n  return null;\n}","import _defineProperty from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport default {\n  name: \"Level\",\n  deps: [],\n  plug: function plug(_ref) {\n    var parse = _ref.parse;\n    parse.tap(function (current, parent) {\n      return _objectSpread({}, current, {\n        level: parent.level ? parent.level + 1 : 1\n      });\n    });\n  }\n};","import _defineProperty from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { warn } from \"@spax/debug\";\nexport default {\n  name: \"Path\",\n  deps: [],\n  plug: function plug(_ref) {\n    var parse = _ref.parse;\n    parse.tap(function (current, parent) {\n      return _objectSpread({}, current, {}, normalizePath(current, parent));\n    });\n  }\n};\n\nfunction normalizePath(current, parent) {\n  var path = current.path;\n\n  if (path === undefined) {\n    path = \"\";\n  } // 404\n  else if (path === \"*\") {\n      path = \"(.*)\";\n    } // 不支持指定的绝对路径\n    else if (path.charAt(0) === \"/\") {\n        warn(\"`path` should NOT start with `/`: %s\", path);\n        path = path.replace(/^\\/+/, \"\");\n      }\n\n  var father = parent.path === \"/\" ? \"\" : parent.path || \"\";\n  var myself = path ? \"/\".concat(path) : \"\";\n  path = \"\".concat(father).concat(myself);\n  return {\n    path: path\n  };\n}","import _objectWithoutProperties from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { debug } from \"@spax/debug\";\nimport React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nexport default {\n  name: \"Router\",\n  deps: [],\n  plug: function plug(_ref, _ref2) {\n    var render = _ref.render;\n    var _ref2$Router = _ref2.Router,\n        Router = _ref2$Router === void 0 ? HashRouter : _ref2$Router,\n        NotFound = _ref2.NotFound;\n    render.tap(function (blocks) {\n      return createRoutes(blocks, NotFound);\n    }, function (element) {\n      return React.createElement(Router, null, element);\n    });\n  }\n}; // wrap <Route> and use this everywhere instead, then when\n// sub routes are added to any route it'll work\n\nfunction createRoute(_ref3, NotFound, isInGreedy) {\n  var C = _ref3.component,\n      blocks = _ref3.blocks,\n      data = _ref3.data,\n      props = _objectWithoutProperties(_ref3, [\"component\", \"blocks\", \"data\"]);\n\n  var path = props.path,\n      greedy = props.greedy;\n  return React.createElement(Route, {\n    key: path,\n    path: path,\n    render: function render(_ref4) {\n      var match = _ref4.match;\n\n      if (!match) {\n        return null;\n      }\n\n      var hasChild = blocks && blocks.length !== 0;\n\n      if (!C) {\n        if (hasChild) {\n          return createRoutes(blocks, NotFound, isInGreedy);\n        }\n\n        return null;\n      }\n\n      var isExact = match.isExact,\n          params = match.params; // 贪婪：\n      // 该儿子时，父也想出现，所以把子组件交给父，让父来控制该如何显示；\n      // 已经精确匹配了，还想继续向下匹配更多的子级。\n\n      if (greedy) {\n        if (process.env.NODE_ENV === \"development\") {\n          debug(\"Matching `%s` greedily\", path);\n        }\n\n        return React.createElement(C, Object.assign({}, props, data, params, {\n          isExact: isExact,\n          isInGreedy: isInGreedy\n        }), createRoutes(blocks, NotFound, true));\n      }\n\n      if (isExact) {\n        if (process.env.NODE_ENV === \"development\") {\n          debug(\"Matching `%s` exactly\", path);\n        }\n\n        return React.createElement(C, Object.assign({}, props, data, params, {\n          isExact: isExact,\n          isInGreedy: isInGreedy\n        }));\n      }\n\n      if (hasChild) {\n        return createRoutes(blocks, NotFound, isInGreedy);\n      }\n\n      if (path) {\n        if (process.env.NODE_ENV === \"development\") {\n          debug(\"No Matching for `%s`, use NotFound instead\", path);\n        }\n\n        return React.createElement(NotFound, null);\n      }\n\n      return null;\n    }\n  });\n}\n\nfunction createRoutes(blocks, NotFound, isInGreedy) {\n  if (!blocks) {\n    return null;\n  }\n\n  return React.createElement(Switch, null, blocks.map(function (block) {\n    return createRoute(block, NotFound, isInGreedy);\n  }));\n}","import _classCallCheck from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport Framework from \"@spax/framework\";\nimport AuthPlugin from \"@spax/plugin-auth\";\nimport I18nPlugin from \"@spax/plugin-i18n\";\nimport LazyPlugin from \"@spax/plugin-lazy\";\nimport LevelPlugin from \"@spax/plugin-level\";\nimport PathPlugin from \"@spax/plugin-path\";\nimport RouterPlugin from \"@spax/plugin-router\";\nvar options = process.env.NODE_ENV === \"production\" ? require(\"./config/config.prod\") : require(\"./config/config.dev\");\n\nvar SimpleFramework =\n/*#__PURE__*/\nfunction (_Framework) {\n  _inherits(SimpleFramework, _Framework);\n\n  function SimpleFramework() {\n    _classCallCheck(this, SimpleFramework);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SimpleFramework).apply(this, arguments));\n  }\n\n  return SimpleFramework;\n}(Framework); // 插件\n\n\nexport { SimpleFramework as default };\nSimpleFramework.plugins = [AuthPlugin, I18nPlugin, PathPlugin, LevelPlugin, LazyPlugin, RouterPlugin]; // 选项\n\nSimpleFramework.options = options.default;","export default process.env.NODE_ENV === \"production\"\n  ? require(\"./config.prod\").default\n  : require(\"./config.dev\").default;\n","import React from \"react\";\nimport { useLayout } from \"../hooks/useLayout\";\n\ninterface IProps {\n  fallback: string;\n}\n\nexport const DocumentTitle: React.FC<IProps> = ({ fallback }: IProps) => {\n  const { matched } = useLayout();\n\n  React.useEffect(() => {\n    if (matched.length) {\n      document.title = matched\n        .map(([, { title }]) => title)\n        .reverse()\n        .concat(fallback)\n        .join(\" - \");\n    }\n    return () => {\n      document.title = fallback;\n    };\n  }, [fallback, matched]);\n\n  return null;\n};\n","import { IBlock, IPlugin, IPO, ISlots } from \"@spax/core\";\nimport React from \"react\";\nimport { DocumentTitle } from \"./components/DocumentTitle\";\nimport { LayoutProvider } from \"./hooks/useLayout\";\n\nexport default {\n  name: \"Layout\",\n  deps: [\"Level\"],\n  plug: ({ parse, render }: ISlots, option: IPO) => {\n    parse.tap((current: IBlock): IBlock => {\n      return {\n        ...current,\n        ...normalizeLayout(current, option),\n      };\n    });\n    render.tap((element: React.ReactNode): React.ReactNode => {\n      return (\n        <LayoutProvider>\n          <DocumentTitle fallback={option.siteTitle} />\n          {element}\n        </LayoutProvider>\n      );\n    });\n  },\n} as IPlugin;\n\nfunction normalizeLayout(\n  { layout, component: C }: IBlock,\n  option: IPO,\n): any {\n  return {\n    component: (props: any) => {\n      if (props.isInGreedy) {\n        return (\n          <C {...props} />\n        );\n      }\n      const Layout = layout === \"blank\"\n        ? require(\"./layouts/Blank\").default\n        : require(\"./layouts/Admin\").default;\n\n      return (\n        <Layout option={option}>\n          <C {...props} />\n        </Layout>\n      );\n    },\n  };\n}\n","\nimport { IPlugin, IPO, ISlots } from \"@spax/core\";\nimport { debug } from \"@spax/debug\";\nimport { setGlobalState } from \"@spax/hooks\";\n\nexport default {\n  name: \"Store\",\n  deps: [],\n  plug: ({ init }: ISlots, { initialStates = [] }: IPO) => {\n    init.tap(() => {\n      /* istanbul ignore next */\n      if (process.env.NODE_ENV === \"development\")\n        debug(\"Initialize global states: %O\", initialStates);\n\n      initialStates.forEach(({ storage, states }) => {\n        Object.entries(states).forEach(([key, initialState]) => {\n          setGlobalState(key, initialState, storage);\n        });\n      });\n    });\n  },\n} as IPlugin;\n","import { CssBaseline } from \"@material-ui/core\";\nimport { ThemeOptions } from \"@material-ui/core/styles/createMuiTheme\";\nimport ThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport { IPlugin, IPO, ISlots } from \"@spax/core\";\nimport { debug } from \"@spax/debug\";\nimport { setType, useTheme } from \"@spax/theme\";\nimport React from \"react\";\n\nexport default {\n  name: \"Theme\",\n  deps: [\"Router\"],\n  plug: ({ init, render }: ISlots, { paletteType, overrides }: IPO) => {\n    init.tap(() => {\n      setType(paletteType);\n    });\n\n    render.tap(\n      (element: React.ReactNode): React.ReactNode => {\n        return <ThemeRoot overrides={overrides}>{element}</ThemeRoot>;\n      },\n    );\n  },\n} as IPlugin;\n\ninterface ThemeRootProps { children: React.ReactNode; overrides: Partial<ThemeOptions>; }\n\nconst ThemeRoot = ({ children, overrides }: ThemeRootProps) => {\n  const theme = useTheme(overrides);\n\n  if (process.env.NODE_ENV === \"development\") {\n    debug(\"Theme config: %O\", theme);\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      {children}\n    </ThemeProvider>\n  );\n};\n","import { IPlugin } from \"@spax/core\";\nimport { IOptions } from \"@spax/framework\";\nimport FrameworkHook from \"@spax/framework-hook\";\nimport options from \"./config\";\nimport LayoutPlugin from \"./plugins/layout\";\nimport StorePlugin from \"./plugins/store\";\n// import StrictPlugin from \"./plugins/strict\";\nimport ThemePlugin from \"./plugins/theme\";\n\nexport default class Framework extends FrameworkHook {\n  public static plugins: IPlugin[] = [\n    LayoutPlugin,\n    StorePlugin,\n    ThemePlugin,\n    // StrictPlugin,\n  ];\n\n  public static options: IOptions = options;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import options from \"config\";\nimport Framework from \"framework\";\nimport * as serviceWorker from \"serviceWorker\";\n\n// 加载业务模块，挂载到挂载点\nnew Framework(options).mount();\n\nprocess.env.NODE_ENV === \"production\"\n  ? serviceWorker.register()\n  : serviceWorker.unregister();\n","import { Breadcrumbs as B, Link } from \"@material-ui/core\";\nimport { BreadcrumbsProps } from \"@material-ui/core/Breadcrumbs\";\nimport { useT } from \"@spax/i18n\";\nimport pathToRegExp from \"path-to-regexp\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useLayout } from \"../hooks/useLayout\";\n\nexport const Breadcrumbs: React.FC<BreadcrumbsProps> = (props: any) => {\n  const { matched } = useLayout();\n  const [t] = useT();\n\n  return (\n    <B {...props}>\n      {matched\n        .map(([{ params }, { path, title }]) => (\n          <Link\n            key={path}\n            component={RouterLink}\n            to={pathToRegExp.compile(path)(params)}>\n            {t(title)}\n          </Link>\n        ))}\n    </B>\n  );\n};\n","import { AppBar, createStyles, IconButton, makeStyles, Theme, Toolbar } from \"@material-ui/core\";\nimport { AppBarProps } from \"@material-ui/core/AppBar\";\nimport { Menu as MenuIcon } from \"@material-ui/icons\";\nimport { useGlobalState } from \"@spax/hooks\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme & { custom: any }) =>\n  createStyles({\n    appBar: {\n      width: ({ open }: any) => open ? `calc(100% - ${theme.custom.sidebar.width}px)` : \"100%\",\n      marginLeft: ({ open }: any) => open ? theme.custom.sidebar.width : 0,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n  }),\n);\n\nexport const Header: React.FC<AppBarProps> = ({children, ...props}: any) => {\n  const [open, setOpen] = useGlobalState<boolean>(\"sidebar-open\");\n  const {appBar, menuButton} = useStyles({ open });\n  return (\n    <AppBar\n      className={appBar}\n      position=\"fixed\"\n      {...props}>\n      <Toolbar>\n        <IconButton\n          className={menuButton}\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={() => setOpen(!open)}\n          edge=\"start\">\n          <MenuIcon />\n        </IconButton>\n        {children}\n      </Toolbar>\n    </AppBar>\n  );\n};\n","import { Box, createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport { BoxProps } from \"@material-ui/core/Box\";\nimport { useGlobalState } from \"@spax/hooks\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme & { custom: any }) =>\n  createStyles({\n    main: {\n      marginLeft: ({ open }: any) => open ? theme.custom.sidebar.width : 0,\n    },\n    drawerHeader: {\n      display: \"flex\",\n      // alignItems: \"center\",\n      ...theme.mixins.toolbar,\n      // justifyContent: \"flex-end\",\n    },\n  }),\n);\n\nexport const Main: React.FC<BoxProps> = ({children, ...props}: BoxProps) => {\n  const [open] = useGlobalState<boolean>(\"sidebar-open\");\n  const {main, drawerHeader} = useStyles({ open });\n  return (\n    <Box\n      className={main}\n      p={3}\n      display=\"flex\"\n      flexDirection=\"column\"\n      flexGrow={1}\n      {...props}\n    >\n      <div className={drawerHeader} />\n      {children}\n    </Box>\n  );\n};\n","import {\n  Collapse,\n  createStyles,\n  Link,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { ExpandLess, ExpandMore, Remove } from \"@material-ui/icons\";\nimport { AnyObject } from \"@spax/core\";\nimport { useT } from \"@spax/i18n\";\nimport clsx from \"clsx\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useLayout } from \"../hooks/useLayout\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    listGroup: {\n      paddingLeft: theme.spacing(2),\n    },\n    listItemIcon: {\n      minWidth: 32,\n    },\n    listItemActive: {\n      fontWeight: \"bold\",\n    },\n  }),\n);\n\nexport const Menu: React.FC<AnyObject> = (props: AnyObject) => {\n  const { all } = useLayout();\n\n  return <MenuList menuData={all} />;\n};\n\nfunction MenuNest(props: any): React.ReactElement {\n  const { title, icon: Icon = Remove, path, empty, opened } = props;\n  const [open, setOpen] = React.useState(opened);\n  const { listGroup, listItemIcon, listItemActive } = useStyles({});\n  const Pointer = open ? ExpandLess : ExpandMore;\n  const [t] = useT();\n\n  React.useEffect(() => {\n    setOpen(opened);\n  }, [opened]);\n\n  return (\n    <>\n      <Link component={RouterLink} to={empty ? false : path}>\n        <ListItem onClick={() => setOpen(!open)}>\n          <ListItemIcon className={listItemIcon}>\n            <Icon />\n          </ListItemIcon>\n          <ListItemText\n            className={clsx(open && listItemActive)}\n            disableTypography\n          >\n            {t(title)}\n          </ListItemText>\n          <Pointer />\n        </ListItem>\n      </Link>\n      <Collapse className={listGroup} in={open}>\n        {props.children}\n      </Collapse>\n    </>\n  );\n}\n\nfunction MenuList(props: any): React.ReactElement {\n  const { listItemIcon, listItemActive } = useStyles({});\n  const [t] = useT();\n  const { menuData } = props;\n  return (\n    <List component=\"nav\">\n      {menuData.map(\n        ({\n          title,\n          icon: Icon = Remove,\n          path,\n          empty,\n          match,\n          children,\n        }) => {\n          if (children) {\n            return (\n              <MenuNest\n                key={path}\n                title={title}\n                icon={Icon}\n                path={path}\n                empty={empty}\n                opened={Boolean(match)}\n              >\n                {/* 如果是非激活的，后代必然是非激活的，所以传空，节省资源 */}\n                <MenuList\n                  menuData={children}\n                />\n              </MenuNest>\n            );\n          }\n          // 没有子节点，直接显示\n          return (\n            <Link key={path} component={RouterLink} to={path}>\n              <ListItem>\n                <ListItemIcon className={listItemIcon}>\n                  <Icon />\n                </ListItemIcon>\n                <ListItemText\n                  className={clsx(Boolean(match) && listItemActive)}\n                  disableTypography\n                >\n                  {t(title)}\n                </ListItemText>\n              </ListItem>\n            </Link>\n          );\n        },\n      )}\n    </List>\n  );\n}\n","import { createStyles, Drawer, makeStyles, Theme } from \"@material-ui/core\";\nimport { DrawerProps } from \"@material-ui/core/Drawer\";\nimport { useGlobalState } from \"@spax/hooks\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme & { custom: any }) =>\n  createStyles({\n    drawer: {\n      width: theme.custom.sidebar.width,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: theme.custom.sidebar.width,\n      flexShrink: 0,\n    },\n  }),\n);\n\nexport const Sidebar: React.FC<DrawerProps> = ({children, ...props}: DrawerProps) => {\n  const [open] = useGlobalState<boolean>(\"sidebar-open\");\n  const {drawer, drawerPaper} = useStyles({ open });\n  return (\n    <Drawer\n      className={drawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={open}\n      classes={{\n        paper: drawerPaper,\n      }}\n      {...props}\n    >\n      {children}\n    </Drawer>\n  );\n};\n","import {\n  Box,\n  createStyles,\n  Divider,\n  IconButton,\n  Link,\n  makeStyles,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport { ReactComponent as Login } from \"@mdi/svg/svg/login.svg\";\nimport { ReactComponent as Logout } from \"@mdi/svg/svg/logout.svg\";\nimport { useGlobalState } from \"@spax/hooks\";\nimport { useT } from \"@spax/i18n\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Breadcrumbs } from \"../components/Breadcrumbs\";\nimport { Footer } from \"../components/Footer\";\nimport { Header } from \"../components/Header\";\nimport { Logo } from \"../components/Logo\";\nimport { Main } from \"../components/Main\";\nimport { Menu } from \"../components/Menu\";\nimport { Sidebar } from \"../components/Sidebar\";\nimport { useLayout } from \"../hooks/useLayout\";\n\nconst useStyles = makeStyles((theme: Theme & { custom: any }) =>\n  createStyles({\n    root: {},\n    h1: {\n      flexGrow: 1,\n    },\n  }),\n);\n\nexport default function AdminLayout(props: any) {\n  const classes = useStyles({});\n  const [ t ] = useT();\n  const [role, setRole] = useGlobalState<string>(\"role\");\n  const { matched } = useLayout();\n\n  const lastMatched = matched.length ? matched[matched.length - 1][1] : null;\n\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      minHeight=\"100vh\"\n      className={classes.root}\n    >\n      <Header>\n        <Typography className={classes.h1} variant=\"h1\">\n          {lastMatched && lastMatched.title ? t(lastMatched.title) : \"\"}\n        </Typography>\n        {role ? (\n          <IconButton color=\"inherit\" edge=\"end\" onClick={() => setRole(\"\")}>\n            <Logout fill=\"currentColor\" />\n          </IconButton>\n        ) : (\n            <Link component={RouterLink} color=\"inherit\" to=\"/login\">\n              <IconButton color=\"inherit\" edge=\"end\">\n                <Login fill=\"currentColor\" />\n              </IconButton>\n            </Link>\n          )}\n      </Header>\n      <Sidebar>\n        <Logo option={props.option} />\n        <Divider />\n        <Menu />\n      </Sidebar>\n      <Main>\n        <Box mb={2}>\n          <Breadcrumbs />\n          <Divider />\n        </Box>\n        <Box flexGrow={1}>{props.children}</Box>\n        <Footer pt={2} textAlign=\"center\" />\n      </Main>\n    </Box>\n  );\n}\n","export default [\n  import(\"./login\"),\n  import(\"./register\"),\n  import(\"./forgot\"),\n  import(\"./dashboard\"),\n  import(\"./hooks\"),\n  import(\"./nested\"),\n  import(\"./home\"),\n  // 404\n  {\n    path: \"*\",\n    layout: \"blank\",\n    lazy: () => import(\"components/exception/NotFound\"),\n  },\n];\n","import { IOptions } from \"@spax/framework\";\nimport blocks from \"blocks\";\nimport store from \"store\";\n\nexport default {\n  blocks,\n  plugins: {\n    store,\n  },\n} as IOptions;\n","export default {\n  initialStates: [{\n    states: {\n      GlobalCount: 0,\n    },\n  }],\n};\n","import { ReactComponent as Loading } from \"@mdi/svg/svg/dots-horizontal.svg\";\nexport default Loading;\n","export default {\n  initialStates: [{\n    storage: localStorage,\n    states: {\n      \"theme-type\": \"light\",\n      role: \"\",\n      lng: \"zh\",\n      \"sidebar-open\": true,\n    },\n  }],\n};\n","import { green, lime } from \"@material-ui/core/colors\";\nimport { ThemeOptions } from \"@material-ui/core/styles/createMuiTheme\";\nimport { IOptions } from \"@spax/framework\";\nimport { useGlobalState } from \"@spax/hooks\";\nimport React from \"react\";\nimport Loading from \"../components/interaction/Loading\";\nimport store from \"../store\";\n\nexport default {\n  version: \"0.0.1\",\n  plugins: {\n    i18n: {\n      fallbackLng: \"zh\",\n    },\n    store,\n    layout: {\n      logoImage: require(\"images/logo.png\"),\n      siteTitle: \"Spax\",\n    },\n    theme: {\n      paletteType: \"light\",\n      overrides: {\n        palette: {\n          primary: Object.assign(green, {\n            contrastText: \"#ffffff\",\n          }),\n          secondary: Object.assign(lime, {\n            contrastText: green[500],\n          }),\n        },\n        typography: {\n          h1: {\n            fontSize: 32,\n          },\n          h2: {\n            fontSize: 28,\n          },\n          h3: {\n            fontSize: 24,\n          },\n          h4: {\n            fontSize: 20,\n          },\n          h5: {\n            fontSize: 16,\n          },\n          h6: {\n            fontSize: 12,\n          },\n        },\n        custom: {\n          sidebar: {\n            width: 200,\n          },\n        },\n      } as Partial<ThemeOptions>,\n    },\n    lazy: {\n      fallback: <Loading />,\n    },\n    auth: {\n      useAuth: function useAuth(authority: string[]) {\n        const [role] = useGlobalState<string>(\"role\");\n        return hasAuth(role, authority);\n      },\n      Forbidden: require(\"../components/exception/Forbidden\").default,\n    },\n    router: {\n      NotFound: require(\"../components/exception/NotFound\").default,\n    },\n  },\n} as IOptions;\n\nfunction hasAuth(role: string, authority: string[]): boolean {\n  if (authority.length === 0) {\n    return true;\n  }\n  if (!role) {\n    return false;\n  }\n  return authority.indexOf(role) !== -1;\n}\n","import { Typography } from \"@material-ui/core\";\nimport { useT } from \"@spax/i18n\";\nimport React from \"react\";\n\nexport const Slogan: React.FC<{}> = () => {\n  const [ t ] = useT(\"Theme\");\n  return (\n    <Typography variant=\"subtitle1\">\n      {t(\"slogan\")}\n    </Typography>\n  );\n};\n","import { Box, Container, createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Footer } from \"../components/Footer\";\nimport { Logo } from \"../components/Logo\";\nimport { Slogan } from \"../components/Slogan\";\nimport bg from \"../images/bg.svg\";\n\nconst useStyles = makeStyles((theme: Theme & { custom: any }) =>\n  createStyles({\n    root: {\n      background: `url(${bg})  no-repeat center center`,\n    },\n    logo: {\n      height: theme.spacing(6),\n    },\n  }),\n);\n\nexport default function BlankLayout({children, ...props}: any) {\n  const {root, logo} = useStyles(props);\n\n  return (\n    <Container\n      maxWidth=\"xs\">\n      <Box\n        py={8}\n        className={root}>\n        <Box\n          px={2}\n          py={4}\n          textAlign=\"center\">\n          <Logo\n            className={logo}\n            option={props.option} />\n          <Slogan />\n        </Box>\n        <Box\n          p={4}\n        >\n          {children}\n        </Box>\n        <Footer\n          px={2}\n          py={4}\n          textAlign=\"center\"/>\n      </Box>\n    </Container>\n  );\n}\n","import _toConsumableArray from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction makeArgs(args) {\n  if (typeof args[0] === \"string\") {\n    args[0] = \"\\uD83D\\uDE80 \".concat(args[0]);\n  }\n\n  return args;\n}\n\nexport function log() {\n  var _console;\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  (_console = console).log.apply(_console, _toConsumableArray(makeArgs(args)));\n}\nexport function debug() {\n  var _console2;\n\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  // console.log 无法显示调用堆栈，所以使用 console.warn\n  (_console2 = console).warn.apply(_console2, _toConsumableArray(makeArgs(args)));\n}\nexport function warn() {\n  var _console3;\n\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  (_console3 = console).warn.apply(_console3, _toConsumableArray(makeArgs(args)));\n}\nexport function error() {\n  var _console4;\n\n  for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    args[_key4] = arguments[_key4];\n  }\n\n  (_console4 = console).error.apply(_console4, _toConsumableArray(makeArgs(args)));\n}\nexport function trace() {\n  var _console5;\n\n  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  (_console5 = console).trace.apply(_console5, _toConsumableArray(makeArgs(args)));\n}\nexport function fatal(arg0) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n    args[_key6 - 1] = arguments[_key6];\n  }\n\n  if (args.length) {\n    error.apply(void 0, args);\n  }\n\n  throw Error(arg0);\n}","import { IBlock, useParsed } from \"@spax/core\";\nimport { debug } from \"@spax/debug\";\nimport { useGlobalState } from \"@spax/hooks\";\nimport React from \"react\";\nimport { match as routerMatch, matchPath, useLocation } from \"react-router-dom\";\n\ninterface IMenuData {\n  matched: [routerMatch, IBlock][];\n  all: IMenu[];\n}\n\ninterface IMenu {\n  title: string;\n  icon: React.ReactNode;\n  path: string;\n  match: routerMatch;\n  children?: IMenu[];\n}\n\nconst Context = React.createContext(null);\n\nexport const useLayout = () => {\n  return React.useContext(Context);\n};\n\nexport const LayoutProvider = (props: any) => {\n  const { pathname } = useLocation();\n  const [role] = useGlobalState<string>(\"role\");\n  const [blocks] = useParsed();\n  const value = React.useMemo(() => {\n    /* istanbul ignore next */\n    if (process.env.NODE_ENV === \"development\") {\n      debug(\"Generating menu for %s with: %O\", role, blocks);\n    }\n    return getMenuData(pathname, role, blocks, []);\n  }, [pathname, role, blocks]);\n  return (\n    <Context.Provider value={value}>\n      {props.children}\n    </Context.Provider>\n  );\n};\n\n/**\n * 获取需要显示的菜单树结构\n */\nfunction getMenuData(\n  pathname: string,\n  role: string,\n  blocks: IBlock[],\n  matched: [routerMatch, IBlock][],\n): IMenuData {\n  return {\n    matched,\n    all: blocks\n      // 非 404\n      // 有标题\n      // 有权限\n      .filter(\n        ({ path, title, authority }) =>\n          path.indexOf(\"*\") === -1 && !!title && hasAuth(role, authority),\n      )\n      .map(({ blocks: childBlocks, ...rest }) => {\n        const match = matchPath(pathname, { path: rest.path });\n        if (match) {\n          matched.push([match, rest]);\n        }\n        return {\n          ...rest,\n          match,\n          children:\n            childBlocks && childBlocks.length\n              ? getMenuData(pathname, role, childBlocks, matched).all\n              : undefined,\n        };\n      })\n      .flat(),\n  };\n}\n\nfunction hasAuth(role: string, authority: string[]) {\n  if (!authority || authority.length === 0) {\n    return true;\n  }\n  if (!role) {\n    return false;\n  }\n  return authority.indexOf(role) !== -1;\n}\n","import _slicedToArray from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { setGlobalState, useGlobalState } from \"@spax/hooks\";\nimport deepmerge from \"deepmerge\";\nimport { useMemo } from \"react\";\nexport function setType() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"light\";\n  return setGlobalState(\"theme-palette-type\", type);\n}\nexport function useType() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"light\";\n  return useGlobalState(\"theme-palette-type\", type);\n}\nexport function useTheme() {\n  var overrides = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _useType = useType(),\n      _useType2 = _slicedToArray(_useType, 1),\n      type = _useType2[0];\n\n  return useMemo(function () {\n    return createMuiTheme(deepmerge.all([{\n      palette: {\n        type: type\n      }\n    }, overrides]));\n  }, [type, overrides]);\n}","import _slicedToArray from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport EventEmitter from \"events\";\nimport { useEffect, useState } from \"react\";\nvar map = new Map();\nvar events = new EventEmitter();\nexport var cache = {\n  snapshot: function snapshot() {\n    var snapshot = {};\n    map.forEach(function (value, key) {\n      Object.assign(snapshot, _defineProperty({}, key, value));\n    });\n    return snapshot;\n  },\n  restore: function restore(snapshot) {\n    map.clear();\n    Object.entries(snapshot).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      map.set(key, value);\n    });\n  },\n  clear: function clear() {\n    map.clear();\n  },\n  get: function get(key) {\n    return map.get(key);\n  },\n  set: function set(key, value) {\n    var shouldEmit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    map.set(key, value);\n\n    if (shouldEmit) {\n      events.emit(key, value);\n    }\n  },\n  has: function has(key) {\n    return map.has(key);\n  },\n  on: function on(key, listener) {\n    events.on(key, listener);\n  },\n  off: function off(key, listener) {\n    events.off(key, listener);\n  }\n};\nexport function useCached(key) {\n  var _useState = useState(cache.get(key)),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    cache.on(key, setState);\n    return function () {\n      cache.off(key, setState);\n    };\n  }, []);\n  return [state, function (value) {\n    cache.set(key, value, true);\n  }];\n}","import _regeneratorRuntime from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _possibleConstructorReturn from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _classCallCheck from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Slot =\n/*#__PURE__*/\nfunction () {\n  function Slot() {\n    _classCallCheck(this, Slot);\n  }\n\n  _createClass(Slot, [{\n    key: \"tap\",\n    value: function tap(pre, post) {\n      if (pre) {\n        this.hooks.pre.push(pre);\n      }\n\n      if (post) {\n        this.hooks.post.unshift(post);\n      }\n    }\n  }]);\n\n  return Slot;\n}();\n\nexport var InitSlot =\n/*#__PURE__*/\nfunction (_Slot) {\n  _inherits(InitSlot, _Slot);\n\n  function InitSlot() {\n    var _this;\n\n    _classCallCheck(this, InitSlot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InitSlot).apply(this, arguments));\n    _this.hooks = {\n      pre: [],\n      post: []\n    };\n    return _this;\n  }\n\n  _createClass(InitSlot, [{\n    key: \"tap\",\n    value: function tap(pre, post) {\n      _get(_getPrototypeOf(InitSlot.prototype), \"tap\", this).call(this, pre, post);\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(d) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", Promise.all(this.hooks[d].map(function (fn) {\n                  return fn();\n                })));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function run(_x) {\n        return _run.apply(this, arguments);\n      }\n\n      return run;\n    }()\n  }]);\n\n  return InitSlot;\n}(Slot);\nexport var ParseSlot =\n/*#__PURE__*/\nfunction (_Slot2) {\n  _inherits(ParseSlot, _Slot2);\n\n  function ParseSlot() {\n    var _this2;\n\n    _classCallCheck(this, ParseSlot);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ParseSlot).apply(this, arguments));\n    _this2.hooks = {\n      pre: [],\n      post: []\n    };\n    return _this2;\n  }\n\n  _createClass(ParseSlot, [{\n    key: \"tap\",\n    value: function tap(pre, post) {\n      _get(_getPrototypeOf(ParseSlot.prototype), \"tap\", this).call(this, pre, post);\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(a, b, d) {\n        var hooks, hookLength, i, fn;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                hooks = this.hooks[d];\n                hookLength = hooks.length;\n                i = 0;\n\n              case 3:\n                if (!(i < hookLength)) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                fn = hooks[i]; // freeze object\n\n                if (process.env.NODE_ENV === \"development\") {\n                  a = Object.freeze(a);\n                }\n\n                _context2.next = 8;\n                return fn(a, b);\n\n              case 8:\n                a = _context2.sent;\n\n              case 9:\n                i++;\n                _context2.next = 3;\n                break;\n\n              case 12:\n                return _context2.abrupt(\"return\", a);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function run(_x2, _x3, _x4) {\n        return _run2.apply(this, arguments);\n      }\n\n      return run;\n    }()\n  }]);\n\n  return ParseSlot;\n}(Slot);\nexport var RenderSlot =\n/*#__PURE__*/\nfunction (_Slot3) {\n  _inherits(RenderSlot, _Slot3);\n\n  function RenderSlot() {\n    var _this3;\n\n    _classCallCheck(this, RenderSlot);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(RenderSlot).apply(this, arguments));\n    _this3.hooks = {\n      pre: [],\n      post: []\n    };\n    return _this3;\n  }\n\n  _createClass(RenderSlot, [{\n    key: \"tap\",\n    value: function tap(pre, post) {\n      _get(_getPrototypeOf(RenderSlot.prototype), \"tap\", this).call(this, pre, post);\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(a, d) {\n        var hooks, hookLength, i, fn;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                hooks = this.hooks[d];\n                hookLength = hooks.length;\n                i = 0;\n\n              case 3:\n                if (!(i < hookLength)) {\n                  _context3.next = 12;\n                  break;\n                }\n\n                fn = hooks[i]; // freeze object\n\n                if (process.env.NODE_ENV === \"development\") {\n                  a = Object.freeze(a);\n                }\n\n                _context3.next = 8;\n                return fn(a);\n\n              case 8:\n                a = _context3.sent;\n\n              case 9:\n                i++;\n                _context3.next = 3;\n                break;\n\n              case 12:\n                return _context3.abrupt(\"return\", a);\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function run(_x5, _x6) {\n        return _run3.apply(this, arguments);\n      }\n\n      return run;\n    }()\n  }]);\n\n  return RenderSlot;\n}(Slot);","import _regeneratorRuntime from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/liwenfu/spax/examples/demo-mui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { debug, error, warn } from \"@spax/debug\";\nimport { cache, useCached } from \"./cache\";\nimport { InitSlot, ParseSlot, RenderSlot } from \"./slots\";\nvar KEY_SLOTS = \"slots\";\nvar KEY_PLUGINS = \"plugins\";\nvar KEY_OPTIONS = \"options\";\nvar KEY_PARSED = \"parsed\";\nvar KEY_RENDERED = \"rendered\";\n\nvar pluginOptionGetter = function pluginOptionGetter(name) {\n  var _cache$get = cache.get(KEY_OPTIONS),\n      c = _cache$get.plugins;\n\n  return c ? c[name] || c[name.toLowerCase()] || {} : {};\n};\n\nexport function run() {\n  return _run.apply(this, arguments);\n}\n/**\n * parse 函数允许重复执行，\n * 生成的数据将会覆盖原有数据。\n */\n\nfunction _run() {\n  _run = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var plugins,\n        options,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            plugins = _args.length > 0 && _args[0] !== undefined ? _args[0] : [];\n            options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n            if (cache.has(\"init\")) {\n              cache.clear();\n            }\n\n            _context.next = 5;\n            return runInit(plugins, options);\n\n          case 5:\n            // 标识已加载\n            cache.set(\"init\", 1);\n            _context.t0 = runRender;\n            _context.next = 9;\n            return runParse(options.blocks, false);\n\n          case 9:\n            _context.t1 = _context.sent;\n            return _context.abrupt(\"return\", (0, _context.t0)(_context.t1, false));\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _run.apply(this, arguments);\n}\n\nexport function runParse() {\n  return _runParse.apply(this, arguments);\n}\n/**\n * render 函数允许重复执行，\n * 生成的数据将会覆盖原有数据。\n */\n\nfunction _runParse() {\n  _runParse = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var blocks,\n        shouldEmit,\n        parsedBlocks,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            blocks = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : [];\n            shouldEmit = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : true;\n            _context2.next = 4;\n            return parseBlocks(blocks, {}, true);\n\n          case 4:\n            parsedBlocks = _context2.sent;\n\n            /* istanbul ignore next */\n            if (process.env.NODE_ENV === \"development\") {\n              debug(\"Blocks parsed: %O\", parsedBlocks);\n            } // 存储以备外部调用\n\n\n            cache.set(KEY_PARSED, parsedBlocks, shouldEmit);\n            return _context2.abrupt(\"return\", parsedBlocks);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _runParse.apply(this, arguments);\n}\n\nexport function runRender() {\n  return _runRender.apply(this, arguments);\n}\n\nfunction _runRender() {\n  _runRender = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3() {\n    var blocks,\n        shouldEmit,\n        renderedBlocks,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            blocks = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : [];\n            shouldEmit = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : true;\n            _context3.next = 4;\n            return renderBlocks(blocks);\n\n          case 4:\n            renderedBlocks = _context3.sent;\n\n            /* istanbul ignore next */\n            if (process.env.NODE_ENV === \"development\") {\n              debug(\"Blocks rendered: %O\", renderedBlocks);\n            } // 存储以备外部调用\n\n\n            cache.set(KEY_RENDERED, renderedBlocks, shouldEmit);\n            return _context3.abrupt(\"return\", renderedBlocks);\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _runRender.apply(this, arguments);\n}\n\nexport function useParsed() {\n  return useCached(KEY_PARSED);\n}\nexport function useRendered() {\n  return useCached(KEY_RENDERED);\n}\n/**\n * 递归处理模块，顺序执行 parser\n * @example\n * // blocks: [m1, m2]\n * // parsers: [p1, p2]\n * p1.pre(m1) -> p2.pre(m1) -> p2.post(m1) -> p1.post(m1)\n * p1.pre(m2) -> p2.pre(m2) -> p2.post(m2) -> p1.post(m2)\n * // 如果有子模块（深度优先）\n * p1.pre(m1) -> p2.pre(m1) -> (子模块流程，同父模块) -> p2.post(m1) -> p1.post(m1)\n */\n\nexport function parseBlocks() {\n  return _parseBlocks.apply(this, arguments);\n}\n\nfunction _parseBlocks() {\n  _parseBlocks = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee5() {\n    var blocks,\n        parent,\n        fromInnerCall,\n        _args5 = arguments;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            blocks = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : [];\n            parent = _args5.length > 1 ? _args5[1] : undefined;\n            fromInnerCall = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : false;\n\n            if (cache.has(\"init\")) {\n              _context5.next = 6;\n              break;\n            }\n\n            error(\"Please call `run` first.\");\n            return _context5.abrupt(\"return\", []);\n\n          case 6:\n            _context5.next = 8;\n            return Promise.all(blocks.map(\n            /*#__PURE__*/\n            function () {\n              var _ref = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee4(mc) {\n                return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        _context4.next = 2;\n                        return interopDefaultExports(mc);\n\n                      case 2:\n                        mc = _context4.sent;\n\n                        if (!Array.isArray(mc)) {\n                          _context4.next = 8;\n                          break;\n                        }\n\n                        _context4.next = 6;\n                        return Promise.all(mc.map(function (_mc) {\n                          return parseBlock(_mc, parent);\n                        }));\n\n                      case 6:\n                        mc = _context4.sent;\n                        return _context4.abrupt(\"return\", mc);\n\n                      case 8:\n                        return _context4.abrupt(\"return\", parseBlock(mc, parent));\n\n                      case 9:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4);\n              }));\n\n              return function (_x10) {\n                return _ref.apply(this, arguments);\n              };\n            }()));\n\n          case 8:\n            blocks = _context5.sent;\n            blocks = blocks.flat(); // 外部调用时，需要更新 parent.blocks\n\n            if (!fromInnerCall) {\n              /* istanbul ignore next */\n              if (process.env.NODE_ENV === \"development\") {\n                // 如果已存在，则告警\n                if (parent.blocks && parent.blocks.length) {\n                  warn(\"Override blocks of parent which is not empty\");\n                }\n              }\n\n              parent.blocks = blocks;\n            }\n\n            return _context5.abrupt(\"return\", blocks);\n\n          case 12:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _parseBlocks.apply(this, arguments);\n}\n\nfunction parseBlock(_x, _x2) {\n  return _parseBlock.apply(this, arguments);\n}\n/**\n * 渲染模块树\n */\n\n\nfunction _parseBlock() {\n  _parseBlock = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee6(mc, parent) {\n    var _cache$get2, parse;\n\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _cache$get2 = cache.get(KEY_SLOTS), parse = _cache$get2.parse;\n\n            if (mc.$$parsed) {\n              _context6.next = 5;\n              break;\n            }\n\n            _context6.next = 4;\n            return parse.run(mc, parent, \"pre\");\n\n          case 4:\n            mc = _context6.sent;\n\n          case 5:\n            if (!mc.blocks) {\n              _context6.next = 9;\n              break;\n            }\n\n            _context6.next = 8;\n            return parseBlocks(mc.blocks, mc, true);\n\n          case 8:\n            mc.blocks = _context6.sent;\n\n          case 9:\n            if (mc.$$parsed) {\n              _context6.next = 13;\n              break;\n            }\n\n            _context6.next = 12;\n            return parse.run(mc, parent, \"post\");\n\n          case 12:\n            mc = _context6.sent;\n\n          case 13:\n            return _context6.abrupt(\"return\", mc);\n\n          case 14:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _parseBlock.apply(this, arguments);\n}\n\nfunction renderBlocks(_x3) {\n  return _renderBlocks.apply(this, arguments);\n}\n\nfunction _renderBlocks() {\n  _renderBlocks = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee7(parsedBlocks) {\n    var _cache$get3, render, renderedBlocks;\n\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _cache$get3 = cache.get(KEY_SLOTS), render = _cache$get3.render;\n            renderedBlocks = parsedBlocks; // 前置处理\n\n            _context7.next = 4;\n            return render.run(renderedBlocks, \"pre\");\n\n          case 4:\n            renderedBlocks = _context7.sent;\n            _context7.next = 7;\n            return render.run(renderedBlocks, \"post\");\n\n          case 7:\n            renderedBlocks = _context7.sent;\n            return _context7.abrupt(\"return\", renderedBlocks);\n\n          case 9:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _renderBlocks.apply(this, arguments);\n}\n\nfunction runInit(_x4, _x5) {\n  return _runInit.apply(this, arguments);\n}\n\nfunction _runInit() {\n  _runInit = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee8(plugins, options) {\n    var slots;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            // 存储以备外部调用\n            cache.set(KEY_PLUGINS, plugins);\n            cache.set(KEY_OPTIONS, options); // 初始化三个插槽\n\n            slots = {\n              init: new InitSlot(),\n              parse: new ParseSlot(),\n              render: new RenderSlot()\n            }; // 存储以备外部调用\n\n            cache.set(KEY_SLOTS, slots);\n            /* istanbul ignore next */\n\n            if (process.env.NODE_ENV === \"development\") {\n              debug(\"Hook slots created: %O\", slots);\n            } // 加载插件\n\n\n            _context8.next = 7;\n            return loadPlugins(plugins, options, slots);\n\n          case 7:\n            _context8.next = 9;\n            return slots.init.run(\"pre\");\n\n          case 9:\n            _context8.next = 11;\n            return slots.init.run(\"post\");\n\n          case 11:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _runInit.apply(this, arguments);\n}\n\nfunction loadPlugins(_x6, _x7, _x8) {\n  return _loadPlugins.apply(this, arguments);\n} // 对于使用 import()/require() 引入的模块，需要转换\n\n\nfunction _loadPlugins() {\n  _loadPlugins = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee9(plugins, options, slots) {\n    var ordererPlugins, pluginNameMap;\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            ordererPlugins = [];\n            pluginNameMap = new Map();\n            plugins.forEach(function (plugin) {\n              var name = plugin.name,\n                  deps = plugin.deps; // 如果存在，说明当前插件被依赖\n\n              if (pluginNameMap.has(name)) {\n                // 插入到依赖项之前\n                // 当前插件的依赖项的索引值\n                var index = pluginNameMap.get(name);\n                ordererPlugins.splice(index, 0, plugin); // 前面被插入后，依赖项的索引值增大\n\n                pluginNameMap.set(name, index + 1);\n              } else {\n                // 暂未检测到被其它插件依赖，则直接插入到列表最后\n                ordererPlugins.push(plugin);\n              } // 如果存在依赖项，则建立依赖项与当前项的索引关系\n\n\n              if (deps && deps.length) {\n                deps.forEach(function (dep) {\n                  if (!pluginNameMap.has(dep)) {\n                    // 如果依赖项不与其他插件存在索引关系，则使用当前项在队列的索引值\n                    pluginNameMap.set(dep, ordererPlugins.length - 1);\n                  } // 如果已存在索引值，则不作更新，\n                  // 因为该索引值必然小于新索引值，\n                  // 选择沿用旧的值，可以保证依赖项插入的顺序足够靠前。\n\n                });\n              }\n            });\n            /* istanbul ignore next */\n\n            if (process.env.NODE_ENV === \"development\") {\n              debug(\"Plugins enabled: %O\", ordererPlugins);\n            }\n\n            return _context9.abrupt(\"return\", Promise.all(ordererPlugins.map(function (_ref2) {\n              var name = _ref2.name,\n                  plug = _ref2.plug;\n              return plug(slots, pluginOptionGetter(name), options);\n            })));\n\n          case 5:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n  return _loadPlugins.apply(this, arguments);\n}\n\nfunction interopDefaultExports(_x9) {\n  return _interopDefaultExports.apply(this, arguments);\n}\n\nfunction _interopDefaultExports() {\n  _interopDefaultExports = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee10(m) {\n    var _;\n\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.next = 2;\n            return m;\n\n          case 2:\n            _ = _context10.sent;\n\n            if (!(\"default\" in _)) {\n              _context10.next = 5;\n              break;\n            }\n\n            return _context10.abrupt(\"return\", _.default);\n\n          case 5:\n            return _context10.abrupt(\"return\", _);\n\n          case 6:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _interopDefaultExports.apply(this, arguments);\n}","export * from \"./cache\";\nexport * from \"./core\";","import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport React from \"react\";\nimport { Link, LinkProps } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme: Theme & { custom: any }) =>\n  createStyles({\n    logo: {\n      ...theme.mixins.toolbar,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      \"& > img\": {\n        maxWidth: \"100%\",\n        maxHeight: 48,\n      },\n    },\n  }),\n);\n\ntype LogoProps = Partial<LinkProps> & { className?: any, option?: any };\n\nexport const Logo: React.FC<LogoProps> = ({ className, option: { logoImage, siteTitle }, ...props }: LogoProps) => {\n  const { logo } = useStyles(props);\n\n  return (\n    <Link\n      to=\"/\"\n      className={clsx(logo, className)}\n      {...props}\n    >\n      <img\n        src={logoImage}\n        alt={siteTitle} />\n    </Link>\n  );\n};\n","import { Button, Menu, MenuItem } from \"@material-ui/core\";\nimport { Language } from \"@material-ui/icons\";\nimport { useLng } from \"@spax/i18n\";\nimport React, { useState } from \"react\";\n\nexport const LngSwitch: React.FC<{}> = () => {\n  const [lng, setLng] = useLng();\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n\n  function handleClick(event: React.MouseEvent<HTMLButtonElement>) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose(selectedLng?: string) {\n    setAnchorEl(null);\n    if (selectedLng) {\n      setLng(selectedLng);\n    }\n  }\n\n  return (\n    <>\n      <Button aria-controls=\"locale-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n        <Language color=\"primary\" /> {lng}\n      </Button>\n      <Menu\n        id=\"locale-menu\"\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={() => handleClose()}\n        keepMounted\n      >\n        <MenuItem onClick={() => handleClose(\"zh\")}>\n          <span role=\"img\" aria-label=\"简体中文\">🇨🇳</span> 简体中文\n        </MenuItem>\n        <MenuItem onClick={() => handleClose(\"en\")}>\n          <span role=\"img\" aria-label=\"English\">🇺🇸</span> English\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n","import { FormControlLabel, Switch } from \"@material-ui/core\";\nimport { useT } from \"@spax/i18n\";\nimport { useType } from \"@spax/theme\";\nimport React from \"react\";\n\nexport const ThemeSwitch: React.FC<{}> = () => {\n  const [ type, setType ] = useType();\n  const [ t ] = useT();\n\n  return (\n    <FormControlLabel\n      control={\n        <Switch\n          checked={type === \"dark\"}\n          onChange={() => setType(type === \"light\" ? \"dark\" : \"light\")}\n          value=\"type\"\n          color=\"primary\"\n          inputProps={{ \"aria-label\": \"primary checkbox\" }}\n        />\n      }\n      label={t(type === \"dark\" ? \"Light On\" : \"Light Off\")}\n      labelPlacement=\"end\"\n    />\n  );\n};\n","import { Box, Link, Typography } from \"@material-ui/core\";\nimport { BoxProps } from \"@material-ui/core/Box\";\nimport { ReactComponent as Github } from \"@mdi/svg/svg/github-circle.svg\";\nimport { useT } from \"@spax/i18n\";\nimport React from \"react\";\nimport { LngSwitch } from \"./LngSwitch\";\nimport { ThemeSwitch } from \"./ThemeSwitch\";\n\nexport const Footer: React.FC<BoxProps> = ({children, ...props}: any) => {\n  const [ t ] = useT(\"Theme\");\n\n  return (\n    <Box\n      {...props}\n    >\n      {children}\n      <Box\n        display=\"flex\"\n        flexDirection=\"row\"\n        justifyContent=\"center\">\n        <Link href=\"https://github.com/crossjs/spax\">\n          <Github fill=\"currentColor\" />\n        </Link>\n        <Typography variant=\"subtitle1\">\n          {t(\"with heart\")}\n        </Typography>\n      </Box>\n      <Box>\n        <LngSwitch />\n      </Box>\n      <Box>\n        <ThemeSwitch />\n      </Box>\n    </Box>\n  );\n};\n"],"sourceRoot":""}